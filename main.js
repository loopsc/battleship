(()=>{"use strict";var n={56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var o={},i=[],s=0;s<n.length;s++){var l=n[s],c=r.base?l[0]+r.base:l[0],d=o[c]||0,A="".concat(c," ").concat(d);o[c]=d+1;var p=t(A),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var h=a(u,r);r.byIndex=s,e.splice(s,0,{identifier:A,updater:h,references:1})}i.push(A)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var o=r(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var s=t(o[i]);e[s].references--}for(var l=r(n,a),c=0;c<o.length;c++){var d=t(o[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}o=l}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,r,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);r&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),e.push(d))}},e}},354:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},777:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(354),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([n.id,'*,\n*::before,\n*::after {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    font-family: "genos";\n}\n\n:root {\n    --mega-white: #ffffff;\n    --primary-black: #15141a;\n    --secondary-black: #262a2b;\n    --primary-gray: #5b5b66;\n    --light-gray: #f0f0f4;\n    --ocean-blue: #566899;\n    --ocean-blue-light: #92a8e4;\n    --cool-pink: #ff4d8880;\n    --light-green: rgb(131, 184, 131);\n    --text-size: 1.5rem;\n}\n\n@keyframes pulse {\n    0% {\n        transform: scale(1);\n    }\n    50% {\n        transform: scale(1.1);\n    }\n    100% {\n        transform: scale(1);\n    }\n}\n\nbody {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n    width: 100vw;\n    background-color: var(--primary-black);\n}\n\n.board-wrapper {\n    display: grid;\n    grid-template-columns: 30px repeat(10, 50px);\n    grid-template-rows: 30px repeat(10, 50px);\n    flex-shrink: 0;\n}\n\n.corner-cell {\n    grid-column: 1;\n    grid-row: 1;\n    width: 30px;\n    height: 30px;\n}\n\n.col-labels {\n    grid-column: 2 / -1;\n    grid-row: 1;\n    display: grid;\n    grid-template-columns: repeat(10, 50px);\n    height: 30px;\n}\n\n.row-labels {\n    grid-column: 1;\n    grid-row: 2 / -1;\n    display: grid;\n    grid-template-rows: repeat(10, 50px);\n    width: 30px;\n}\n\n.axis-text {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--light-gray);\n    font-size: 1.5rem;\n}\n\n.buttons-menu {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    justify-content: center;\n    padding: 2rem;\n    align-items: center;\n}\n\n#main {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 2rem;\n    border: 3px solid var(--light-gray);\n    border-radius: 2rem;\n    background-color: #262a2b;\n    padding: 2rem;\n}\n\n.game-parent-container {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 2rem;\n    padding: 2rem;\n}\n\n#board-and-buttons {\n    display: flex;\n}\n\n.board {\n    grid-column: 2 / -1;\n    grid-row: 2 / -1;\n    display: grid;\n    grid-template-columns: repeat(10, 50px);\n    grid-template-rows: repeat(10, 50px);\n    border: 1px solid var(--light-gray);\n}\n\n/* Each individual cell */\n.board div {\n    width: 100%;\n    height: 50px;\n    background-color: var(--ocean-blue);\n    border: 1px solid var(--light-gray);\n}\n\n.player-name-input {\n    background-color: var(--secondary-black);\n    color: var(--light-gray);\n    font-size: var(--text-size);\n    border: 1px solid var(--light-gray);\n    border-radius: 0.2rem;\n    padding: 0.3rem;\n}\n\n.menu-buttons {\n    background-color: var(--cool-pink);\n    border: none;\n    color: var(--mega-white);\n    font-size: var(--text-size);\n    padding: 5px 10px;\n    border-radius: 0.2rem;\n}\n\n.menu-buttons:hover {\n    scale: 1.1;\n    cursor: pointer;\n}\n\n.ship-button {\n    background-color: var(--primary-gray);\n    color: var(--light-gray);\n}\n\n.ship-button.active {\n    background-color: var(--light-green);\n    color: var(--primary-black);\n    animation: pulse 2s infinite;\n}\n\n.ship-button.disabled {\n    text-decoration: line-through;\n    pointer-events: none;\n}\n\n.ship-button.orientation-button {\n    margin-top: 3rem;\n}\n\n.hover-valid {\n    background-color: lightgreen !important;\n}\n\n.hover-invalid {\n    background-color: red !important;\n}\n\n.placed {\n    background-color: rgb(174, 118, 219) !important;\n}\n\n.miss-ship {\n    background-color: var(--mega-white) !important;\n}\n\n.hit-ship {\n    background-color: orange !important;\n}\n\n.sunk-ship {\n    background-color: red !important;\n}\n\n.bot-cell.ingame-hover {\n    background-color: var(--ocean-blue-light) !important;\n}\n\n.game-player-container,\n.game-bot-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 2rem;\n    padding: 20px;\n}\n\n.game-labels,\n.bot-labels {\n    font-size: 2.5rem;\n    color: var(--mega-white);\n}\n\n.game-master-text {\n    font-size: 2.5rem;\n    width: 400px;\n    color: var(--mega-white);\n    flex-shrink: 0;\n    flex-grow: 0;\n    text-align: center;\n}\n',"",{version:3,sources:["webpack://./src/app/styles.css"],names:[],mappings:"AAAA;;;IAGI,sBAAsB;IACtB,SAAS;IACT,UAAU;IACV,oBAAoB;AACxB;;AAEA;IACI,qBAAqB;IACrB,wBAAwB;IACxB,0BAA0B;IAC1B,uBAAuB;IACvB,qBAAqB;IACrB,qBAAqB;IACrB,2BAA2B;IAC3B,sBAAsB;IACtB,iCAAiC;IACjC,mBAAmB;AACvB;;AAEA;IACI;QACI,mBAAmB;IACvB;IACA;QACI,qBAAqB;IACzB;IACA;QACI,mBAAmB;IACvB;AACJ;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,aAAa;IACb,YAAY;IACZ,sCAAsC;AAC1C;;AAEA;IACI,aAAa;IACb,4CAA4C;IAC5C,yCAAyC;IACzC,cAAc;AAClB;;AAEA;IACI,cAAc;IACd,WAAW;IACX,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,mBAAmB;IACnB,WAAW;IACX,aAAa;IACb,uCAAuC;IACvC,YAAY;AAChB;;AAEA;IACI,cAAc;IACd,gBAAgB;IAChB,aAAa;IACb,oCAAoC;IACpC,WAAW;AACf;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,wBAAwB;IACxB,iBAAiB;AACrB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,SAAS;IACT,uBAAuB;IACvB,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,SAAS;IACT,mCAAmC;IACnC,mBAAmB;IACnB,yBAAyB;IACzB,aAAa;AACjB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,mBAAmB;IACnB,SAAS;IACT,aAAa;AACjB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,mBAAmB;IACnB,gBAAgB;IAChB,aAAa;IACb,uCAAuC;IACvC,oCAAoC;IACpC,mCAAmC;AACvC;;AAEA,yBAAyB;AACzB;IACI,WAAW;IACX,YAAY;IACZ,mCAAmC;IACnC,mCAAmC;AACvC;;AAEA;IACI,wCAAwC;IACxC,wBAAwB;IACxB,2BAA2B;IAC3B,mCAAmC;IACnC,qBAAqB;IACrB,eAAe;AACnB;;AAEA;IACI,kCAAkC;IAClC,YAAY;IACZ,wBAAwB;IACxB,2BAA2B;IAC3B,iBAAiB;IACjB,qBAAqB;AACzB;;AAEA;IACI,UAAU;IACV,eAAe;AACnB;;AAEA;IACI,qCAAqC;IACrC,wBAAwB;AAC5B;;AAEA;IACI,oCAAoC;IACpC,2BAA2B;IAC3B,4BAA4B;AAChC;;AAEA;IACI,6BAA6B;IAC7B,oBAAoB;AACxB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,uCAAuC;AAC3C;;AAEA;IACI,gCAAgC;AACpC;;AAEA;IACI,+CAA+C;AACnD;;AAEA;IACI,8CAA8C;AAClD;;AAEA;IACI,mCAAmC;AACvC;;AAEA;IACI,gCAAgC;AACpC;;AAEA;IACI,oDAAoD;AACxD;;AAEA;;IAEI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,SAAS;IACT,aAAa;AACjB;;AAEA;;IAEI,iBAAiB;IACjB,wBAAwB;AAC5B;;AAEA;IACI,iBAAiB;IACjB,YAAY;IACZ,wBAAwB;IACxB,cAAc;IACd,YAAY;IACZ,kBAAkB;AACtB",sourcesContent:['*,\n*::before,\n*::after {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    font-family: "genos";\n}\n\n:root {\n    --mega-white: #ffffff;\n    --primary-black: #15141a;\n    --secondary-black: #262a2b;\n    --primary-gray: #5b5b66;\n    --light-gray: #f0f0f4;\n    --ocean-blue: #566899;\n    --ocean-blue-light: #92a8e4;\n    --cool-pink: #ff4d8880;\n    --light-green: rgb(131, 184, 131);\n    --text-size: 1.5rem;\n}\n\n@keyframes pulse {\n    0% {\n        transform: scale(1);\n    }\n    50% {\n        transform: scale(1.1);\n    }\n    100% {\n        transform: scale(1);\n    }\n}\n\nbody {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n    width: 100vw;\n    background-color: var(--primary-black);\n}\n\n.board-wrapper {\n    display: grid;\n    grid-template-columns: 30px repeat(10, 50px);\n    grid-template-rows: 30px repeat(10, 50px);\n    flex-shrink: 0;\n}\n\n.corner-cell {\n    grid-column: 1;\n    grid-row: 1;\n    width: 30px;\n    height: 30px;\n}\n\n.col-labels {\n    grid-column: 2 / -1;\n    grid-row: 1;\n    display: grid;\n    grid-template-columns: repeat(10, 50px);\n    height: 30px;\n}\n\n.row-labels {\n    grid-column: 1;\n    grid-row: 2 / -1;\n    display: grid;\n    grid-template-rows: repeat(10, 50px);\n    width: 30px;\n}\n\n.axis-text {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--light-gray);\n    font-size: 1.5rem;\n}\n\n.buttons-menu {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    justify-content: center;\n    padding: 2rem;\n    align-items: center;\n}\n\n#main {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 2rem;\n    border: 3px solid var(--light-gray);\n    border-radius: 2rem;\n    background-color: #262a2b;\n    padding: 2rem;\n}\n\n.game-parent-container {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 2rem;\n    padding: 2rem;\n}\n\n#board-and-buttons {\n    display: flex;\n}\n\n.board {\n    grid-column: 2 / -1;\n    grid-row: 2 / -1;\n    display: grid;\n    grid-template-columns: repeat(10, 50px);\n    grid-template-rows: repeat(10, 50px);\n    border: 1px solid var(--light-gray);\n}\n\n/* Each individual cell */\n.board div {\n    width: 100%;\n    height: 50px;\n    background-color: var(--ocean-blue);\n    border: 1px solid var(--light-gray);\n}\n\n.player-name-input {\n    background-color: var(--secondary-black);\n    color: var(--light-gray);\n    font-size: var(--text-size);\n    border: 1px solid var(--light-gray);\n    border-radius: 0.2rem;\n    padding: 0.3rem;\n}\n\n.menu-buttons {\n    background-color: var(--cool-pink);\n    border: none;\n    color: var(--mega-white);\n    font-size: var(--text-size);\n    padding: 5px 10px;\n    border-radius: 0.2rem;\n}\n\n.menu-buttons:hover {\n    scale: 1.1;\n    cursor: pointer;\n}\n\n.ship-button {\n    background-color: var(--primary-gray);\n    color: var(--light-gray);\n}\n\n.ship-button.active {\n    background-color: var(--light-green);\n    color: var(--primary-black);\n    animation: pulse 2s infinite;\n}\n\n.ship-button.disabled {\n    text-decoration: line-through;\n    pointer-events: none;\n}\n\n.ship-button.orientation-button {\n    margin-top: 3rem;\n}\n\n.hover-valid {\n    background-color: lightgreen !important;\n}\n\n.hover-invalid {\n    background-color: red !important;\n}\n\n.placed {\n    background-color: rgb(174, 118, 219) !important;\n}\n\n.miss-ship {\n    background-color: var(--mega-white) !important;\n}\n\n.hit-ship {\n    background-color: orange !important;\n}\n\n.sunk-ship {\n    background-color: red !important;\n}\n\n.bot-cell.ingame-hover {\n    background-color: var(--ocean-blue-light) !important;\n}\n\n.game-player-container,\n.game-bot-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 2rem;\n    padding: 20px;\n}\n\n.game-labels,\n.bot-labels {\n    font-size: 2.5rem;\n    color: var(--mega-white);\n}\n\n.game-master-text {\n    font-size: 2.5rem;\n    width: 400px;\n    color: var(--mega-white);\n    flex-shrink: 0;\n    flex-grow: 0;\n    text-align: center;\n}\n'],sourceRoot:""}]);const s=i},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return n[r](o,o.exports,t),o.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var r=t(72),a=t.n(r),o=t(825),i=t.n(o),s=t(659),l=t.n(s),c=t(56),d=t.n(c),A=t(540),p=t.n(A),u=t(113),h=t.n(u),m=t(777),C={};C.styleTagTransform=h(),C.setAttributes=d(),C.insert=l().bind(null,"head"),C.domAPI=i(),C.insertStyleElement=p(),a()(m.A,C),m.A&&m.A.locals&&m.A.locals;const g={carrier:5,battleship:4,cruiser:3,submarine:3,destroyer:2};class f{#n;#e;constructor(n,e){if(!g.hasOwnProperty(n))throw new Error("Invalid ship type");this.length=g[n],this.type=n,this.orientation=e,this.#n=0,this.id=crypto.randomUUID(),this.#e=Array(this.length).fill(!1)}get hits(){return this.#n}hit(n){return!this.#e[n]&&(this.#e[n]=!0,this.#n++,!0)}isHit(n){return this.#e[n]}isSunk(){return this.#n>=this.length}}class b{constructor(){this.board=Array(10).fill(null).map(()=>Array(10).fill(null)),this.ships=[]}isAllShipsSunk(){return 0===this.ships.length}receiveAttack(n,e){if(n<0||n>9||e<0||e>9)throw new Error("Provide x and y coordinates");const t=this.board[n][e];if("miss"===t||t&&t.ship&&t.ship.isHit(t.index))return"already-attacked";if(null===t)return this.board[n][e]="miss","miss";const{ship:r,index:a}=t;return r.hit(a),r.isSunk()?(this.ships=this.ships.filter(n=>n!==r),console.log(`${r.type} has been sunk!`),"sunk"):"hit"}placeShip(n,e,t,r){if(!Object.hasOwn(g,t))throw new Error("Invalid ship type");if("horizontal"!==r&&"vertical"!==r)throw new Error("Invalid direction");const a=g[t];if(!this.canPlaceShips(n,e,t,r))throw new Error("Can't place ship here");if(this.ships.find(n=>n.type===t))throw new Error("This ship is already on the board");const o=new f(t,r);this.ships.push(o);for(let t=0;t<a;t++){const a="horizontal"===r?n+t:n,i="vertical"===r?e+t:e;this.board[a][i]={ship:o,index:t}}}canPlaceShips(n,e,t,r){const a=g[t];if("horizontal"!==r&&"vertical"!==r)throw new Error("Orientation must be vertical or horizontal");if(!Object.hasOwn(g,t))throw new Error("Invalid ship type");for(let t=0;t<a;t++){const a="horizontal"===r?n+t:n,o="vertical"===r?e+t:e;if(a>=10||o>=10||null!==this.board[a][o])return!1}return!0}randomize(){const n=Object.keys(g);for(const e of n){let n=!1;for(;!n;){const t=Math.random()<.5?"horizontal":"vertical",r=Math.floor(10*Math.random()),a=Math.floor(10*Math.random());this.canPlaceShips(r,a,e,t)&&(this.placeShip(r,a,e,t),n=!0)}}}allShipsPlaced(){return 5===this.ships.length}getHead(n,e,t){if(!t)throw new Error("Provide a valid ship and orientation");const r=this.board[n][e];if(!r)throw new Error("No ship at given coordinates");const a=r.ship;if("vertical"===t)for(;e>0&&this.board[n][e-1]?.ship===a;)e--;else for(;n>0&&this.board[n-1][e]?.ship===a;)n--;return[n,e]}}const v={selectedShip:"carrier",selectedOrientation:"horizontal",playerBoard:new b,playerName:"",selectShip(n){if("string"!=typeof n)throw new Error("Ship name must be a string");if(!(n.toLowerCase()in g))throw new Error("Invalid ship type");this.selectedShip=n.toLowerCase()}},B={botBoard:new b,botName:"Beep Boop",selectedShip:"",selectedOrientation:""};function y(n,e){if(n<0||n>9||e<0||e>9)throw new Error("Coordinates must be between 0 and 9");return`${String.fromCharCode(65+n)}${e+1}`}function I(n,e,t,r){if(!r||!t)throw new Error("Provide a valid ship and orientation");const a=g[t],o=[];for(let t=0;t<a;t++){const a="horizontal"===r?n+t:n,i="vertical"===r?e+t:e;o.push([a,i])}return o}function x(n,e,t,r){const a=t.querySelector(`[data-x="${n}"][data-y="${e}"]`);a&&a.classList.add(r)}function w(n){n.querySelectorAll(".hover-valid, .hover-invalid").forEach(n=>n.classList.remove("hover-valid","hover-invalid"))}function k(n){const e=document.querySelector(`button[data-ship = ${n}]`);if(!e)return;e.classList.remove("active"),e.classList.add("disabled");const t=document.querySelectorAll(".ship-button:not(.orientation-button)");for(const n of t)if(!n.classList.contains("disabled")){n.classList.add("active"),v.selectedShip=n.dataset.ship;break}}const E=new class{constructor(){this.playerBoard=v.playerBoard,this.botBoard=B.botBoard,this.currentTurn="player",this.hitCells=[],this.attackQueue=[],this.discoveredOrientation=null}playerAttack(n,e,t){if("player"!==this.currentTurn)return;const r=this.botBoard.receiveAttack(n,e);if("already-attacked"===r)return"already-attacked";const a=t.querySelector(`[data-x="${n}"][data-y="${e}"]`);if(a)if("miss"===r)a.classList.add("miss-ship");else if("hit"===r)a.classList.add("hit-ship");else if("sunk"===r){const r=this.botBoard.board[n][e],[a,o]=this.botBoard.getHead(n,e,r.ship.orientation),i=I(a,o,r.ship.type,r.ship.orientation);for(const[n,e]of i)x(n,e,t,"sunk-ship")}if(!this.botBoard.isAllShipsSunk())return this.takeBotTurn(),r;alert(`${v.playerName} has won!`)}botAttack(){if("bot"!==this.currentTurn)return;let n,e,t;if(this.attackQueue.length>0?[n,e]=this.attackQueue.shift():(n=Math.floor(10*Math.random()),e=Math.floor(10*Math.random())),t=this.playerBoard.receiveAttack(n,e),"already-attacked"===t)return this.botAttack();if("hit"===t){if(this.hitCells.push([n,e]),2===this.hitCells.length){const[n,e]=this.hitCells;n[0]===e[0]?this.discoveredOrientation="vertical":n[1]===e[1]&&(this.discoveredOrientation="horizontal")}this.enqueueAdjacentCells(n,e)}else if("sunk"===t){this.hitCells=this.hitCells.filter(([n,e])=>{const t=this.playerBoard.board[n][e];return t?.ship&&!t.ship.isSunk()}),this.attackQueue=[],this.discoveredOrientation=null;for(const[n,e]of this.hitCells)this.enqueueAdjacentCells(n,e)}const r=document.querySelector(`.player-cell[data-x="${n}"][data-y="${e}"]`);if(!r)return;if("hit"===t)r.classList.add("hit-ship");else if("miss"===t)r.classList.add("miss-ship");else if("sunk"===t){const t=this.playerBoard.board[n][e],[r,a]=this.playerBoard.getHead(n,e,t.ship.orientation),o=I(r,a,t.ship.type,t.ship.orientation);for(const[n,e]of o){const t=document.querySelector(`.player-cell[data-x="${n}"][data-y="${e}"]`);t?.classList.add("sunk-ship")}}const a=document.querySelector(".game-master-text");if(a&&(a.textContent=`${B.botName} attacked ${y(n,e)}: ${t}`),!this.playerBoard.isAllShipsSunk())return this.currentTurn="player",t;alert(`${B.botName} wins!`)}takeBotTurn(){this.currentTurn="bot",setTimeout(()=>{this.botAttack()},500)}enqueueAdjacentCells(n,e){let t=[];t="vertical"===this.discoveredOrientation?[[n,e-1],[n,e+1]]:"horizontal"===this.discoveredOrientation?[[n-1,e],[n+1,e]]:[[n-1,e],[n+1,e],[n,e-1],[n,e+1]];for(const[n,e]of t)n>=0&&n<10&&e>=0&&e<10&&!this.attackQueue.some(([t,r])=>t===n&&r===e)&&this.attackQueue.push([n,e])}};function S(n,e=!0){const t=document.createElement("div");t.classList.add("board-wrapper");const r=document.createElement("div");r.classList.add("corner-cell");const a=document.createElement("div");a.classList.add("col-labels");const o=document.createElement("div");o.classList.add("row-labels");const i=document.createElement("div");if(i.classList.add("board"),t.append(r,a,o,i),n.append(t),function(n,e){for(let t=0;t<10;t++){const r=document.createElement("div");r.textContent=String.fromCharCode(65+t),r.classList.add("axis-text"),n.appendChild(r);const a=document.createElement("div");a.textContent=t+1,a.classList.add("axis-text"),e.appendChild(a)}}(a,o),!0===e)L(i,v.playerBoard,!0);else{const n=B.botBoard;n.randomize(),L(i,n,!1)}}function L(n,e,t=!1,r=10){for(let a=0;a<r;a++)for(let o=0;o<r;o++){const r=document.createElement("div");r.dataset.x=o,r.dataset.y=a;const i=document.querySelector(".game-master-text");t?(r.classList.add("player-cell"),e.board[o][a]&&r.classList.add("placed"),r.addEventListener("click",()=>{i.textContent="Wrong board, try not to hit yourself aye?"})):(r.classList.add("bot-cell"),r.addEventListener("click",()=>{if("player"!==E.currentTurn)return;const e=E.playerAttack(o,a,n);i.textContent="already-attacked"===e?"Hit somewhere else":`${v.playerName} attacked ${y(o,a)}: ${e}`})),r.addEventListener("mouseenter",()=>{r.classList.add("ingame-hover")}),r.addEventListener("mouseleave",()=>{r.classList.remove("ingame-hover")}),n.appendChild(r)}}!function(){const{startGameButton:n,playerNameInput:e}=function(){const n=document.getElementById("main"),e=document.createElement("div");e.id="board-and-buttons";const t=document.createElement("div");t.classList.add("board-wrapper");const r=document.createElement("div");r.classList.add("corner-cell");const a=document.createElement("div");a.classList.add("col-labels");const o=document.createElement("div");o.classList.add("row-labels");const i=document.createElement("div");i.classList.add("buttons-menu");const s=document.createElement("div");s.classList.add("board");const l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("placeholder","Player Name"),l.classList.add("player-name-input");const c=document.createElement("button");return c.classList.add("menu-buttons"),c.textContent="Start Game",function(n){["Carrier","Battleship","Cruiser","Submarine","Destroyer"].forEach(e=>{const t=document.createElement("button");t.classList.add("menu-buttons","ship-button"),t.textContent=e,t.dataset.ship=e.toLowerCase(),"carrier"===t.dataset.ship&&t.classList.add("active"),t.addEventListener("click",()=>{v.selectedShip=t.dataset.ship,n.querySelectorAll(".ship-button:not(.orientation-button)").forEach(n=>n.classList.remove("active")),t.classList.add("active")}),n.appendChild(t)});const e=document.createElement("button");e.classList.add("menu-buttons","ship-button","orientation-button"),e.textContent="Horizontal",e.dataset.orientation="horizontal",e.addEventListener("click",()=>{const n="horizontal"===e.dataset.orientation?"vertical":"horizontal";e.dataset.orientation=n,v.selectedOrientation=e.dataset.orientation,e.textContent=n.charAt(0).toUpperCase()+n.slice(1)}),n.appendChild(e)}(i),t.append(r,a,o,s),e.append(t,i),n.appendChild(l),n.appendChild(e),n.appendChild(c),function(n,e){for(let t=0;t<10;t++){const r=document.createElement("div");r.textContent=String.fromCharCode(65+t),r.classList.add("axis-text"),n.appendChild(r);const a=document.createElement("div");a.textContent=t+1,a.classList.add("axis-text"),e.appendChild(a)}}(a,o),function(n,e=10){for(let t=0;t<e;t++)for(let r=0;r<e;r++){const e=document.createElement("div");e.dataset.x=r,e.dataset.y=t,e.addEventListener("click",()=>{if(console.log(`Clicked ${r}, ${t}`),v.playerBoard.allShipsPlaced())return;const e=I(r,t,v.selectedShip,v.selectedOrientation);if(v.playerBoard.canPlaceShips(r,t,v.selectedShip,v.selectedOrientation)){v.playerBoard.placeShip(r,t,v.selectedShip,v.selectedOrientation);for(const[t,r]of e)x(t,r,n,"placed");k(v.selectedShip),console.log("Ships:",v.playerBoard.ships)}else alert("Ship cannot be placed here")}),e.addEventListener("mouseenter",()=>{if(v.playerBoard.allShipsPlaced())return;const e=I(r,t,v.selectedShip,v.selectedOrientation),a=v.playerBoard.canPlaceShips(r,t,v.selectedShip,v.selectedOrientation)?"hover-valid":"hover-invalid";for(const[t,r]of e)x(t,r,n,a)}),e.addEventListener("mouseleave",()=>{w(n)}),n.appendChild(e)}}(s),{startGameButton:c,playerNameInput:l}}();n.addEventListener("click",()=>{v.playerBoard.allShipsPlaced()?(v.playerName=e.value||"Player",document.getElementById("main").innerHTML="",function(){const n=document.getElementById("main"),e=document.createElement("lable");e.classList.add("game-master-text"),e.textContent="Fire your first shot!";const t=document.createElement("div");t.classList.add("game-parent-container"),n.appendChild(t);const r=document.createElement("div");r.classList.add("game-player-container");const a=document.createElement("label");a.classList.add("game-labels"),a.textContent=v.playerName,r.appendChild(a);const o=document.createElement("div");o.classList.add("game-bot-container");const i=document.createElement("label");i.classList.add("bot-labels"),i.textContent="Beep Boop",o.appendChild(i),t.appendChild(r),t.appendChild(e),t.appendChild(o),S(r),S(o,!1)}()):alert("Place all ships before starting the game")})}()})();
//# sourceMappingURL=main.js.map