Moar testing
Refactor code to be cleaner. Passing a lot of labels around...
Rename some classes, functions, files...
